# Personal Assistant Setup Guide

## üéØ –ß—Ç–æ –ù–æ–≤–æ–≥–æ

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å **–ª–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫** —Å:
- ‚òÄÔ∏è –ü–æ–≥–æ–¥–∞ –∏ –ø—Ä–æ–±–∫–∏
- üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–µ–º—å—è –∏ —Å–æ–±—ã—Ç–∏—è
- üéÅ –ò–¥–µ–∏ –ø–æ–¥–∞—Ä–∫–æ–≤
- üí° –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–±–æ—Ç —Å–∞–º —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç)
- üß† –ü–∞–º—è—Ç—å (–∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤—Å—ë –≤–∞–∂–Ω–æ–µ)

---

## üìã –®–∞–≥ 1: –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

### –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –≤ Supabase:

1. –û—Ç–∫—Ä–æ–π Supabase Dashboard: https://supabase.com/dashboard
2. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–µ–∫—Ç `fpnugtlchxigwpqwiczc`
3. SQL Editor ‚Üí New Query
4. –°–∫–æ–ø–∏—Ä—É–π –≤–µ—Å—å –∫–æ–¥ –∏–∑ `supabase-personal-assistant-migration.sql`
5. Run ‚Üí ‚úÖ Success

**–°–æ–∑–¥–∞—Å—Ç—Å—è 8 –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü:**
- `user_profiles` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
- `user_family` - —Å–µ–º—å—è
- `user_events` - —Å–æ–±—ã—Ç–∏—è
- `conversation_context` - –ø–∞–º—è—Ç—å –±–æ—Ç–∞
- `user_locations` - –º–µ—Å—Ç–∞
- `weather_traffic_log` - –∏—Å—Ç–æ—Ä–∏—è –ø–æ–≥–æ–¥—ã/–ø—Ä–æ–±–æ–∫
- `bot_proactive_actions` - –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- + —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `tasks` –¥–ª—è –ª–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á

---

## üîë –®–∞–≥ 2: API –ö–ª—é—á–∏

–î–æ–±–∞–≤—å –≤ `.env.local` (–ª–æ–∫–∞–ª—å–Ω–æ) –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# Yandex Weather API
# –ü–æ–ª—É—á–∏—Ç—å: https://yandex.ru/dev/weather/
YANDEX_WEATHER_API_KEY=your_yandex_weather_key

# Yandex Maps API (–≥–µ–æ–∫–æ–¥–∏–Ω–≥, –ø—Ä–æ–±–∫–∏, –º–∞—Ä—à—Ä—É—Ç—ã)
# –ü–æ–ª—É—á–∏—Ç—å: https://developer.tech.yandex.ru/
YANDEX_MAPS_API_KEY=your_yandex_maps_key
```

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:

**Yandex Weather:**
1. https://yandex.ru/dev/weather/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è / –í–æ–π—Ç–∏
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å API ‚Üí –¢–∞—Ä–∏—Ñ "–¢–µ—Å—Ç–æ–≤—ã–π" (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, 50 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å API Key

**Yandex Maps:**
1. https://developer.tech.yandex.ru/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å API: –ì–µ–æ–∫–æ–¥–µ—Ä + –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
5. –¢–∞—Ä–∏—Ñ "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫" (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞)
6. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å API Key

---

## üîß –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (82.97.253.12):

```bash
ssh root@82.97.253.12

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–π .env.local
cd /var/www/alu.stella-spb.ru
nano .env.local

# –î–æ–±–∞–≤—å –∫–ª—é—á–∏:
YANDEX_WEATHER_API_KEY=–≤–∞—à_–∫–ª—é—á
YANDEX_MAPS_API_KEY=–≤–∞—à_–∫–ª—é—á

# –°–æ—Ö—Ä–∞–Ω–∏ (Ctrl+O, Enter, Ctrl+X)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ PM2
pm2 restart crm-glazing
```

---

## ü§ñ –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `/api/chat`.

–û–±–Ω–æ–≤–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram –±–æ—Ç–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):

```typescript
// –í telegram bot handler
import { runPersonalAssistant } from '@/lib/personal-assistant-agent';

// –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ data-agent:
const { data, intent } = await runPersonalAssistant(userId, userMessage);

// –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç:
await sendTelegramMessage(chatId, data);
```

---

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –ö–æ–º–∞–Ω–¥

### –ü–æ–≥–æ–¥–∞:
```
–∫–∞–∫–∞—è –ø–æ–≥–æ–¥–∞?
–±—É–¥–µ—Ç –ª–∏ –¥–æ–∂–¥—å?
—á—Ç–æ –Ω–∞–¥–µ—Ç—å?
```

### –ü—Ä–æ–±–∫–∏ –∏ –º–∞—Ä—à—Ä—É—Ç—ã:
```
—Å–∫–æ–ª—å–∫–æ –µ—Ö–∞—Ç—å –¥–æ —Ä–∞–±–æ—Ç—ã?
–∫–∞–∫–∏–µ –ø—Ä–æ–±–∫–∏?
–≤–æ —Å–∫–æ–ª—å–∫–æ –≤—ã–µ—Ö–∞—Ç—å –Ω–∞ –≤—Å—Ç—Ä–µ—á—É –≤ 15:00?
```

### –°–µ–º—å—è:
```
–¥–æ–±–∞–≤—å –∂–µ–Ω—É –ú–∞—Ä–∏—è
–∫–æ–≥–¥–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É —Å—ã–Ω–∞?
–ø–æ–∫–∞–∂–∏ –º–æ—é —Å–µ–º—å—é
```

### –°–æ–±—ã—Ç–∏—è:
```
–¥–æ–±–∞–≤—å —Å–æ–±—ã—Ç–∏–µ "–ì–æ–¥–æ–≤—â–∏–Ω–∞ —Å–≤–∞–¥—å–±—ã" 15 –∏—é–Ω—è
–∫–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ?
—á—Ç–æ –≤–∞–∂–Ω–æ–≥–æ –≤ –¥–µ–∫–∞–±—Ä–µ?
```

### –ü–æ–¥–∞—Ä–∫–∏:
```
—á—Ç–æ –ø–æ–¥–∞—Ä–∏—Ç—å –∂–µ–Ω–µ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?
–∏–¥–µ–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –¥–ª—è –º–∞–º—ã
```

### –£—Ç—Ä–µ–Ω–Ω–∏–π –±—Ä–∏—Ñ–∏–Ω–≥:
```
–¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ
–ø–ª–∞–Ω –Ω–∞ –¥–µ–Ω—å
—á—Ç–æ —Å–µ–≥–æ–¥–Ω—è?
```

---

## üß† –ö–∞–∫ –†–∞–±–æ—Ç–∞–µ—Ç –ü–∞–º—è—Ç—å

–ë–æ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç**:

1. **–ê–¥—Ä–µ—Å–∞** - –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Ç—ã –∏—Ö —É–ø–æ–º–∏–Ω–∞–µ—à—å
2. **–ò–º–µ–Ω–∞ –±–ª–∏–∑–∫–∏—Ö** - –µ—Å–ª–∏ –≥–æ–≤–æ—Ä–∏—à—å "–∂–µ–Ω–∞", "—Å—ã–Ω" –∏ —Ç.–¥.
3. **–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è** - "–ª—é–±–ª—é –∫–æ—Ñ–µ", "–Ω–µ –ª—é–±–ª—é —Ä–∞–Ω–æ –≤—Å—Ç–∞–≤–∞—Ç—å"
4. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã** - –µ—Å–ª–∏ –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ —Å–ø—Ä–∞—à–∏–≤–∞–µ—à—å –ø–æ–≥–æ–¥—É

**–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤:** `conversation_context` —Ç–∞–±–ª–∏—Ü–∞

**–ü—Ä–∏–º–µ—Ä:**
```
üë§: –Ø –∂–∏–≤—É –Ω–∞ —É–ª. –õ–µ–Ω–∏–Ω–∞ 10
ü§ñ: ‚úÖ –ó–∞–ø–æ–º–Ω–∏–ª: –¥–æ–º–∞—à–Ω–∏–π –∞–¥—Ä–µ—Å
     (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –ø–æ–≥–æ–¥—ã/–º–∞—Ä—à—Ä—É—Ç–æ–≤)

üë§: –£ –º–µ–Ω—è —Å—ã–Ω –ú–∞–∫—Å–∏–º
ü§ñ: –î–æ–±–∞–≤–∏—Ç—å –ú–∞–∫—Å–∏–º–∞ –≤ —Å–µ–º—å—é? –ö–æ–≥–¥–∞ —É –Ω–µ–≥–æ –î–†?
     (–ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏)
```

---

## üîî –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –î–µ–π—Å—Ç–≤–∏—è

–ë–æ—Ç **—Å–∞–º –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥**:

### –£—Ç—Ä–æ–º (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö):
```
‚òÄÔ∏è –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –°—Ç–∞—Å!

üå°Ô∏è –ü–æ–≥–æ–¥–∞: +3¬∞C, —Å–Ω–µ–≥
üß• –û–¥–µ–Ω—å—Å—è —Ç–µ–ø–ª–æ, –Ω–µ –∑–∞–±—É–¥—å —à–∞–ø–∫—É!

üöó –ü—Ä–æ–±–∫–∏: 4 –±–∞–ª–ª–∞
‚è∞ –í—ã–µ–∑–∂–∞–π –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ 8:30

üìÖ –°–µ–≥–æ–¥–Ω—è: –í—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –≤ 15:00
```

### –ó–∞ –Ω–µ–¥–µ–ª—é –¥–æ —Å–æ–±—ã—Ç–∏—è:
```
üéÇ –ß–µ—Ä–µ–∑ 7 –¥–Ω–µ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É –ú–∞—Ä–∏–∏!

–•–æ—á–µ—à—å –∏–¥–µ–π –¥–ª—è –ø–æ–¥–∞—Ä–∫–∞? üéÅ
```

### –ö–æ–≥–¥–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö:
```
üë§: –°–∫–æ–ª—å–∫–æ –µ—Ö–∞—Ç—å –¥–æ —Ä–∞–±–æ—Ç—ã?
ü§ñ: ‚ùì –Ø –Ω–µ –∑–Ω–∞—é –≥–¥–µ —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å.
     –°–∫–∞–∂–∏ –∞–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞, –±—É–¥—É —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã!
```

---

## üìä –¢–∞–±–ª–∏—Ü–∞ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –§—É–Ω–∫—Ü–∏–π

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---------|--------|-----------|
| ‚òÄÔ∏è –ü–æ–≥–æ–¥–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| üöó –ü—Ä–æ–±–∫–∏/–ú–∞—Ä—à—Ä—É—Ç—ã | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| üë®‚Äçüë©‚Äçüëß –°–µ–º—å—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| üìÖ –°–æ–±—ã—Ç–∏—è | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| üéÅ –ü–æ–¥–∞—Ä–∫–∏ | ‚úÖ –ì–æ—Ç–æ–≤–æ | –°—Ä–µ–¥–Ω–∏–π |
| üß† –ü–∞–º—è—Ç—å/–ö–æ–Ω—Ç–µ–∫—Å—Ç | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| üí¨ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—ã—Å–æ–∫–∏–π |
| ‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è | üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ | –í—ã—Å–æ–∫–∏–π |
| üìç –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è | üîÑ –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –°—Ä–µ–¥–Ω–∏–π |
| üéôÔ∏è –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã | ‚è≥ –ë—É–¥—É—â–µ–µ | –ù–∏–∑–∫–∏–π |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–π –ø—Ä–æ—Ñ–∏–ª—å:
```
üë§: –ú–µ–Ω—è –∑–æ–≤—É—Ç –°—Ç–∞—Å
üë§: –Ø –∂–∏–≤—É –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ –Ω–∞ —É–ª–∏—Ü–µ –õ–µ–Ω–∏–Ω–∞ 10
üë§: –†–∞–±–æ—Ç–∞—é –Ω–∞ –ù–µ–≤—Å–∫–æ–º –ø—Ä–æ—Å–ø–µ–∫—Ç–µ 28
```

–ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç –≤ `user_profiles` —Å –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∞–¥—Ä–µ—Å–æ–≤.

### 2. –î–æ–±–∞–≤—å —Å–µ–º—å—é:
```
üë§: –£ –º–µ–Ω—è –∂–µ–Ω–∞ –ú–∞—Ä–∏—è
ü§ñ: –ö–æ–≥–¥–∞ —É –Ω–µ—ë –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?
üë§: 15 –¥–µ–∫–∞–±—Ä—è
ü§ñ: ‚úÖ –î–æ–±–∞–≤–∏–ª –ú–∞—Ä–∏—é. –ù–∞–ø–æ–º–Ω—é –∑–∞ –Ω–µ–¥–µ–ª—é!
```

### 3. –ü—Ä–æ–≤–µ—Ä—å –ø–æ–≥–æ–¥—É:
```
üë§: –ö–∞–∫–∞—è –ø–æ–≥–æ–¥–∞?
ü§ñ: ‚òÄÔ∏è –ü–æ–≥–æ–¥–∞ —Å–µ–π—á–∞—Å:
     üå°Ô∏è +3¬∞C (–æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ +1¬∞C)
     üí® –í–µ—Ç–µ—Ä: 5 –º/—Å
     ‚òÅÔ∏è –ú–∞–ª–æ–æ–±–ª–∞—á–Ω–æ
     
     üß• –ó–∏–º–Ω—è—è –∫—É—Ä—Ç–∫–∞ –∏ —à–∞–ø–∫–∞ –Ω–µ –ø–æ–º–µ—à–∞—é—Ç.
```

### 4. –ú–∞—Ä—à—Ä—É—Ç:
```
üë§: –°–∫–æ–ª—å–∫–æ –µ—Ö–∞—Ç—å –¥–æ —Ä–∞–±–æ—Ç—ã?
ü§ñ: üöó –ú–∞—Ä—à—Ä—É—Ç: –õ–µ–Ω–∏–Ω–∞ 10 ‚Üí –ù–µ–≤—Å–∫–∏–π 28
     üìè –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 8.5 –∫–º
     ‚è±Ô∏è –í—Ä–µ–º—è: 25 –º–∏–Ω (+5 –º–∏–Ω –ø—Ä–æ–±–∫–∏ üö¶)
```

### 5. –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:
```
üë§: –°–∫–æ—Ä–æ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É –º–∞–º—ã
ü§ñ: ‚ùì –ö–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ? –ò –∫–∞–∫ –µ—ë –∑–æ–≤—É—Ç?
     –î–æ–±–∞–≤–ª—é –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏ –±—É–¥—É –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å!
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ RLS (Row Level Security) –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚úÖ Service Role —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (`.env.local`)
- ‚úÖ –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ `user_id`
- ‚úÖ TTL –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ (–∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞)

---

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ë—É–¥—É—â–µ–µ)

–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **Dashboard –ª–∏—á–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:**
   - –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–æ–±–∫–∞—Ö –∑–∞ –º–µ—Å—è—Ü
   - –¢—Ä–∞—Ç—ã –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á (—Ä–∞–±–æ—á–∏–µ vs –ª–∏—á–Ω—ã–µ)

2. **ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è:**
   - –ö–æ–≥–¥–∞ –æ–±—ã—á–Ω–æ –≤—ã–µ–∑–∂–∞–µ—à—å –Ω–∞ —Ä–∞–±–æ—Ç—É
   - –ö–∞–∫–∏–µ –ø–æ–¥–∞—Ä–∫–∏ –Ω—Ä–∞–≤—è—Ç—Å—è –±–ª–∏–∑–∫–∏–º
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–¥–∞—á

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è–º–∏:**
   - Google Calendar sync
   - Outlook Calendar
   - Apple Calendar

---

## üÜò Troubleshooting

### –ü–æ–≥–æ–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å –∫–ª—é—á:
echo $YANDEX_WEATHER_API_KEY

# –ü—Ä–æ–≤–µ—Ä—å –ª–∏–º–∏—Ç—ã:
# https://yandex.ru/dev/weather/ ‚Üí –ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã
```

### –ü—Ä–æ–±–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å –∫–ª—é—á:
echo $YANDEX_MAPS_API_KEY

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω API "–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è"
```

### –ë–æ—Ç –Ω–µ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç:
```sql
-- –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É:
SELECT * FROM conversation_context WHERE user_id = '—Ç–≤–æ–π_user_id';
```

### –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –£–∫–∞–∑—ã–≤–∞–π –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –õ–µ–Ω–∏–Ω–∞, 10"
- –ù–µ –ø—Ä–æ—Å—Ç–æ "–õ–µ–Ω–∏–Ω–∞ 10"

---

## ‚úÖ Checklist –ó–∞–ø—É—Å–∫–∞

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤ Supabase
- [ ] –ü–æ–ª—É—á–µ–Ω—ã API –∫–ª—é—á–∏ (Yandex Weather + Maps)
- [ ] –ö–ª—é—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env.local` –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ö–ª—é—á–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] PM2 –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (`pm2 restart crm-glazing`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥—Ä–µ—Å–∞)
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–º—å—è (—Ö–æ—Ç—è –±—ã 1 —á–µ–ª–æ–≤–µ–∫)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ–≥–æ–¥–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã
- [ ] –†–∞–±–æ—Ç–∞—é—Ç –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ª–∏—á–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç! üéâ**
