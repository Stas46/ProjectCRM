<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–æ–ª—É—á–µ–Ω–∏–µ Folder ID - –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .step { background: #f0f8ff; padding: 20px; margin: 15px 0; border-radius: 8px; border-left: 4px solid #4299e1; }
        .important { background: #fff5f5; border-left: 4px solid #fc8181; padding: 20px; margin: 15px 0; border-radius: 8px; }
        .success { background: #f0fff4; border-left: 4px solid #48bb78; padding: 20px; margin: 15px 0; border-radius: 8px; }
        .code { background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 6px; font-family: monospace; margin: 10px 0; }
        .btn { background: #4299e1; color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; margin: 10px 5px; text-decoration: none; display: inline-block; }
        .btn:hover { background: #3182ce; }
        .btn-green { background: #48bb78; }
        .btn-green:hover { background: #38a169; }
        img { max-width: 100%; border: 2px solid #ddd; border-radius: 8px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÅ –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: –ü–æ–ª—É—á–µ–Ω–∏–µ Folder ID</h1>
        
        <div class="important">
            <h3>üéØ –¶–µ–ª—å:</h3>
            <p>–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π <strong>Folder ID</strong> (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å <code>b1g...</code>) 
            –¥–ª—è –∑–∞–º–µ–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ <code>ajeqqov5lheces6lehjn</code> –≤ .env.local</p>
        </div>

        <div class="step">
            <h2>üåê –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å Yandex Cloud</h2>
            <a href="https://console.cloud.yandex.ru/" target="_blank" class="btn">üîó –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å Yandex Cloud</a>
            <p>–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç, –µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–ª–∏.</p>
        </div>

        <div class="step">
            <h2>üìÇ –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥</h2>
            <p>–í –ª–µ–≤–æ–º –º–µ–Ω—é –∏–ª–∏ –≤ –≥–ª–∞–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–∞—Ç–∞–ª–æ–≥ (folder).</p>
            <ul>
                <li>–ï—Å–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –≤—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π</li>
                <li>–ï—Å–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–µ—Ç - —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π</li>
                <li>–ö–∞—Ç–∞–ª–æ–≥ –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "default" –∏–ª–∏ –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –∏–º–µ–Ω–µ–º</li>
            </ul>
        </div>

        <div class="step">
            <h2>üîç –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞</h2>
            <p>–í –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ç–∞–ª–æ–≥–µ –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ <strong>"–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"</strong> –∏–ª–∏ <strong>"ID"</strong>:</p>
            <ul>
                <li>–û–±—ã—á–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É</li>
                <li>–ò–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"</li>
                <li>–§–æ—Ä–º–∞—Ç: <code>b1g1234567890abcdef</code></li>
                <li><strong>–í–∞–∂–Ω–æ:</strong> –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Å <code>b1g</code>, –∞ –Ω–µ —Å –¥—Ä—É–≥–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤!</li>
            </ul>
        </div>

        <div class="step">
            <h2>üìã –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Folder ID</h2>
            <p>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞. –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ ID:</p>
            <div class="code">b1g123456789abcdef0</div>
            <p><strong>‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:</strong> <code>ajeqqov5lheces6lehjn</code> (—ç—Ç–æ ID —Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏, –Ω–µ –∫–∞—Ç–∞–ª–æ–≥–∞)</p>
            <p><strong>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:</strong> <code>b1g...</code> (ID –∫–∞—Ç–∞–ª–æ–≥–∞)</p>
        </div>

        <div class="success">
            <h2>‚öôÔ∏è –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ .env.local</h2>
            <p>–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª–µ .env.local:</p>
            <div class="code">
# –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
YANDEX_CLOUD_FOLDER_ID=ajeqqov5lheces6lehjn

# –î–û–õ–ñ–ù–û –ë–´–¢–¨ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
YANDEX_CLOUD_FOLDER_ID=b1g...–≤–∞—à_folder_id...
            </div>
            
            <div style="margin-top: 20px;">
                <a href="http://localhost:3001/test-center" class="btn btn-green">üß™ –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</a>
                <button class="btn" onclick="checkCurrentConfig()">üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</button>
            </div>
        </div>

        <div class="step">
            <h2>üöÄ –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è .env.local:</h2>
            <ol>
                <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª .env.local</li>
                <li>–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C –∏ —Å–Ω–æ–≤–∞ npm run dev)</li>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ <a href="http://localhost:3001/test-center" target="_blank">—Ç–µ—Å—Ç–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä</a></li>
                <li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ "üá∑üá∫ –¢–µ—Å—Ç Yandex Vision OCR"</li>
            </ol>
        </div>

        <div id="configCheck" style="margin-top: 20px;"></div>
    </div>

    <script>
        async function checkCurrentConfig() {
            const resultDiv = document.getElementById('configCheck');
            resultDiv.innerHTML = '<div style="color: blue;">üîÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é...</div>';

            try {
                const response = await fetch('/api/yandex-config-check');
                const data = await response.json();

                let status = '';
                if (data.config.hasFolderId) {
                    if (data.config.folderIdLength > 10) {
                        status = '<div style="color: green;">‚úÖ Folder ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>';
                    } else {
                        status = '<div style="color: orange;">‚ö†Ô∏è Folder ID —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π</div>';
                    }
                } else {
                    status = '<div style="color: red;">‚ùå Folder ID –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>';
                }

                let tokenStatus = '';
                if (data.config.hasIamToken) {
                    tokenStatus = '<div style="color: green;">‚úÖ IAM —Ç–æ–∫–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>';
                } else if (data.config.hasApiKey) {
                    tokenStatus = '<div style="color: green;">‚úÖ API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω</div>';
                } else {
                    tokenStatus = '<div style="color: red;">‚ùå –ù–µ—Ç —Ç–æ–∫–µ–Ω–∞ –∏–ª–∏ API –∫–ª—é—á–∞</div>';
                }

                resultDiv.innerHTML = `
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #6c757d;">
                        <h3>üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:</h3>
                        ${tokenStatus}
                        ${status}
                        <div style="margin-top: 10px;">
                            <strong>–°—Ç–∞—Ç—É—Å:</strong> ${data.status}
                        </div>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = '<div style="color: red;">‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</div>';
            }
        }
    </script>
</body>
</html>