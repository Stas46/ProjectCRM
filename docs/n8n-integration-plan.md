# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ CRM –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ n8n

## üìä –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. **Telegram Bot** ü§ñ
**–§–∞–π–ª—ã:**
- `src/app/api/telegram/webhook/route.ts` - webhook –¥–ª—è –ø—Ä–∏—ë–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- `src/lib/telegram-helper.ts` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- Token: —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `TELEGRAM_BOT_TOKEN`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- 3 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: AI, CRM, Hybrid
- –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Whisper API)
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ CRM —á–µ—Ä–µ–∑ –∫–æ–¥
- –ö–æ–º–∞–Ω–¥—ã: /start, /help, /mode, /tasks, /projects, /invoices
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DeepSeek AI
- **Data Agent** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –∏ —Ä–∞–±–æ—Ç—ã —Å CRM –¥–∞–Ω–Ω—ã–º–∏

**Workflow:**
```
Telegram ‚Üí Webhook ‚Üí Data Agent ‚Üí DeepSeek AI ‚Üí –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### 2. **AI Chat Assistant** üí¨
**–§–∞–π–ª—ã:**
- `src/app/api/chat/route.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π chat endpoint
- `src/lib/data-agent.ts` - –∞–Ω–∞–ª–∏–∑ –Ω–∞–º–µ—Ä–µ–Ω–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö CRM
- `src/lib/crm-data-tools.ts` - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å CRM –¥–∞–Ω–Ω—ã–º–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- 2 —Ç–∏–ø–∞ –∞–≥–µ–Ω—Ç–æ–≤: `general` (–æ–±—ã—á–Ω—ã–π —á–∞—Ç) –∏ `personal_assistant` (—Å –¥–æ—Å—Ç—É–ø–æ–º –∫ CRM)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∞–π–ª–æ–≤: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, PDF, DOCX, XLSX
- –ú–æ–¥–µ–ª–∏: DeepSeek Chat/Coder, GPT-4o, GPT-4o Mini
- Assistants API –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- Whisper –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**Personal Assistant –º–æ–∂–µ—Ç:**
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∞–º–∏ (–∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å, priority, –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –∫–≤–∞–¥—Ä–∞–Ω—Ç)
- –ü–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–∫–∏ –∑–∞–¥–∞—á/–ø—Ä–æ–µ–∫—Ç–æ–≤/—Å—á–µ—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–∞–º, —Å—Ç–∞—Ç—É—Å–∞–º, —Ç–µ–≥–∞–º

### 3. **Smart Invoice Recognition** üìÑ
**–§–∞–π–ª—ã:**
- `src/app/api/smart-invoice/route.ts` - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤
- `src/lib/yandex-vision-ocr.ts` - Yandex Vision OCR

**Workflow:**
```
–ó–∞–≥—Ä—É–∑–∫–∞ PDF ‚Üí Yandex Vision OCR ‚Üí GPT-4o –∞–Ω–∞–ª–∏–∑ ‚Üí 
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí n8n webhook (—É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω!)
```

**–£–∂–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ n8n:**
```typescript
// —Å—Ç—Ä–æ–∫–∞ 738-756 –≤ smart-invoice/route.ts
const n8nWebhookUrl = process.env.N8N_WEBHOOK_URL;
if (n8nWebhookUrl && parsed) {
  fetch(n8nWebhookUrl, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      type: 'invoice_created',
      invoice: parsed,
      project_id: parsed.project_id,
      timestamp: new Date().toISOString()
    })
  })
}
```

### 4. **Email Service** ‚úâÔ∏è
**–§–∞–π–ª—ã:**
- `src/app/api/n8n/send-email/route.ts` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ n8n
- `src/lib/email-service.ts` - —à–∞–±–ª–æ–Ω—ã email

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ n8n workflow –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å–æ–∑–¥–∞–Ω
- ‚úÖ SMTP —á–µ—Ä–µ–∑ Yandex –Ω–∞—Å—Ç—Ä–æ–µ–Ω (info@stella-spb.ru)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 9924646@gmail.com)

---

## üéØ –ì–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å n8n

### 1. **Telegram Bot ‚Üí n8n Integration** üî• –ü–†–ò–û–†–ò–¢–ï–¢

#### –°—Ü–µ–Ω–∞—Ä–∏–π A: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram —á–µ—Ä–µ–∑ n8n
**–í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑ –∫–æ–¥–∞ ‚Üí —á–µ—Ä–µ–∑ n8n workflow**

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å —É—Å–ª–æ–≤–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫
- Retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```javascript
// –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ ‚Üí n8n ‚Üí Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
{
  "type": "task_created",
  "task": {
    "id": "uuid",
    "title": "–ö—É–ø–∏—Ç—å –∫—Ä—ã—à–∫–∏ –¥–ª—è —à–∫–æ–ª—ã",
    "priority": 1,
    "assigned_to": "user_id"
  },
  "notify_telegram_id": 123456789
}

// –î–µ–¥–ª–∞–π–Ω –∑–∞–¥–∞—á–∏ –∏—Å—Ç–µ–∫–∞–µ—Ç –∑–∞–≤—Ç—Ä–∞ ‚Üí n8n ‚Üí Telegram –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
{
  "type": "task_deadline_reminder",
  "task_id": "uuid",
  "deadline": "2025-11-13",
  "telegram_id": 123456789
}

// –ù–æ–≤—ã–π —Å—á—ë—Ç –Ω–∞ –±–æ–ª—å—à—É—é —Å—É–º–º—É ‚Üí n8n ‚Üí Telegram alert
{
  "type": "invoice_alert",
  "invoice_number": "INV-001",
  "total_amount": 500000,
  "telegram_id": 123456789
}
```

**Workflow –≤ n8n:**
```
Webhook Trigger ‚Üí 
Check Event Type (If) ‚Üí 
Format Message (Function) ‚Üí 
Send Telegram Message ‚Üí 
Log to Database
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π B: Telegram –∫–æ–º–∞–Ω–¥—ã ‚Üí n8n ‚Üí CRM actions
**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CRM —á–µ—Ä–µ–∑ Telegram –∫–æ–º–∞–Ω–¥—ã, –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ n8n**

**–ü—Ä–∏–º–µ—Ä—ã:**
```
/create_invoice –ö–æ–º–ø–∞–Ω–∏—è ABC 50000 ‚Üí 
n8n webhook ‚Üí 
Create invoice in Supabase ‚Üí 
Send confirmation to Telegram
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ –ø—Ä–∞–≤–æ–∫ –≤ –∫–æ–¥–µ –±–æ—Ç–∞
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å approval flows
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (1C, Google Sheets, etc)

---

### 2. **Data Agent ‚Üí n8n Workflows** ü§ñ

**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å n8n –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç Data Agent

**–ü—Ä–∏–º–µ—Ä—ã:**

#### A. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –∏–∑ AI —á–∞—Ç–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —á–∞—Ç–µ: "–Ω–∞–ø–æ–º–Ω–∏ –º–Ω–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫—É –∑–∞–≤—Ç—Ä–∞ –≤ 10:00"
‚Üì
Data Agent –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç ‚Üí action: create_task
‚Üì
–í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ INSERT –≤ –ë–î ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ n8n webhook
‚Üì
n8n workflow:
  - –°–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞—á—É –≤ –ë–î
  - –°–æ–∑–¥–∞—ë—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ (Google Calendar)
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞ 1 —á–∞—Å
```

#### B. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
```
Data Agent –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç: "—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç–∞ —Å 1C"
‚Üì
n8n webhook
‚Üì
n8n workflow:
  - –ü–æ–ª—É—á–∞–µ—Ç —Å—á–µ—Ç–∞ –∏–∑ Supabase
  - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–ª—è 1C API
  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ 1C
  - –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ CRM
  - –£–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

### 3. **Smart Invoice ‚Üí n8n Automation** üìÑ –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢!

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –∫–æ–¥–µ
- ‚úÖ n8n workflow —Å–æ–∑–¥–∞–Ω
- ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç

**–ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

#### A. –ú—É–ª—å—Ç–∏-–∫–∞–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```
–ù–æ–≤—ã–π —Å—á—ë—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω
‚Üì
n8n workflow:
  1. Email ‚Üí –±—É—Ö–≥–∞–ª—Ç–µ—Ä—É (info@stella-spb.ru)
  2. Telegram ‚Üí –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
  3. SMS ‚Üí –¥–∏—Ä–µ–∫—Ç–æ—Ä—É (–µ—Å–ª–∏ —Å—É–º–º–∞ > 100–∫)
  4. Slack ‚Üí —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç–¥–µ–ª
  5. –ó–∞–ø–∏—Å—å –≤ Google Sheets –¥–ª—è –æ—Ç—á—ë—Ç–∞
```

#### B. Approval workflow
```
–°—á—ë—Ç > 50,000 —Ä—É–±
‚Üì
n8n –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä—É (Telegram)
‚Üì
–î–∏—Ä–µ–∫—Ç–æ—Ä –Ω–∞–∂–∏–º–∞–µ—Ç "–£—Ç–≤–µ—Ä–¥–∏—Ç—å" / "–û—Ç–∫–ª–æ–Ω–∏—Ç—å"
‚Üì
n8n –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ CRM
‚Üì
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É
```

#### C. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–ª–∞—Ç–∞
```
–°—á—ë—Ç —É—Ç–≤–µ—Ä–∂–¥—ë–Ω
‚Üì
n8n –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å –∫–æ–º–ø–∞–Ω–∏–∏ (API –±–∞–Ω–∫–∞)
‚Üì
–ï—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ‚Üí –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–ª–∞—Ç—ë–∂ —á–µ—Ä–µ–∑ –±–∞–Ω–∫ API
‚Üì
–û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ CRM: "–û–ø–ª–∞—á–µ–Ω"
‚Üì
–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É
```

---

### 4. **Scheduled Tasks —á–µ—Ä–µ–∑ n8n** ‚è∞

**–ò–¥–µ—è:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –Ω–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ

#### A. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç –≤ Telegram
```
n8n Schedule Trigger (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00)
‚Üì
–ó–∞–ø—Ä–æ—Å –∫ Supabase: –∑–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
‚Üì
–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
‚Üì
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

#### B. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö
```
n8n Schedule (–∫–∞–∂–¥—ã–π —á–∞—Å)
‚Üì
–ó–∞–ø—Ä–æ—Å –∑–∞–¥–∞—á —Å deadline < 24 —á–∞—Å–∞
‚Üì
–î–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
  - –û—Ç–ø—Ä–∞–≤–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - Email –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ "urgent"
```

#### C. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```
n8n Schedule (–∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 10:00)
‚Üì
–ó–∞–ø—Ä–æ—Å—ã –∫ –ë–î:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –∑–∞ –Ω–µ–¥–µ–ª—é
  - –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
  - –°—É–º–º–∞ —Å—á–µ—Ç–æ–≤
‚Üì
–°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ (PDF/Excel)
‚Üì
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram + Email
```

---

### 5. **Multi-Agent Communication —á–µ—Ä–µ–∑ n8n** ü§ñüîÑü§ñ

**–ò–¥–µ—è:** n8n –∫–∞–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ AI –∞–≥–µ–Ω—Ç–∞–º–∏

```
Telegram Bot (AI —Ä–µ–∂–∏–º)
‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å—á–µ—Ç–∞ –∑–∞ –º–µ—Å—è—Ü –∏ —Å–æ–∑–¥–∞–π –æ—Ç—á—ë—Ç"
‚Üì
n8n webhook
‚Üì
n8n workflow:
  1. Data Agent ‚Üí –ø–æ–ª—É—á–∏—Ç—å —Å—á–µ—Ç–∞ –∏–∑ –ë–î
  2. GPT-4 ‚Üí –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤
  3. Code Interpreter ‚Üí —Å–æ–∑–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏
  4. DOCX Generator ‚Üí —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç
  5. Email ‚Üí –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç
  6. Telegram ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```

---

### 6. **Integration Hub —á–µ—Ä–µ–∑ n8n** üåê

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**

#### A. Google Workspace
- –ó–∞–¥–∞—á–∏ ‚Üí Google Calendar
- –ü—Ä–æ–µ–∫—Ç—ã ‚Üí Google Sheets –æ—Ç—á—ë—Ç—ã
- –î–æ–∫—É–º–µ–Ω—Ç—ã ‚Üí Google Drive —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

#### B. Yandex Services
- Email —á–µ—Ä–µ–∑ Yandex.Mail (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- Yandex.Disk –¥–ª—è –±—ç–∫–∞–ø–æ–≤
- Yandex.Metrika –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ CRM

#### C. –ü–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- –ÆKassa webhook ‚Üí n8n ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–ø–ª–∞—Ç—ã
- Tinkoff Business API ‚Üí –∞–≤—Ç–æ–ø–ª–∞—Ç–µ–∂–∏
- –°–ë–ü ‚Üí QR-–∫–æ–¥—ã –¥–ª—è —Å—á–µ—Ç–æ–≤

#### D. –í–Ω–µ—à–Ω–∏–µ CRM/ERP
- 1C –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- AmoCRM sync
- Bitrix24 sync

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: Telegram Notifications (1-2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å n8n workflow "Telegram Notifications"
2. Webhook endpoint: `/webhook/telegram-notify`
3. –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–±—ã—Ç–∏–π:
   - task_created
   - task_deadline_reminder
   - invoice_alert
   - project_updated

### –§–∞–∑–∞ 2: Data Agent Integration (2-3 –¥–Ω—è)
1. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å Data Agent –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ n8n
2. –°–æ–∑–¥–∞—Ç—å workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
   - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
3. –î–æ–±–∞–≤–∏—Ç—å approval flows

### –§–∞–∑–∞ 3: Scheduled Tasks (1 –¥–µ–Ω—å)
1. –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã
2. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –¥–µ–¥–ª–∞–π–Ω–∞—Ö
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –§–∞–∑–∞ 4: Advanced Integrations (ongoing)
1. Google Workspace
2. –ü–ª–∞—Ç—ë–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
3. 1C/AmoCRM
4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥—ã

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –≥–æ—Ç–æ–≤—ã—Ö workflow –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è

### 1. Telegram Task Notification
```json
{
  "name": "Telegram Task Notification",
  "nodes": [
    {
      "type": "n8n-nodes-base.webhook",
      "name": "Task Event Webhook",
      "parameters": {
        "path": "telegram-notify",
        "httpMethod": "POST"
      }
    },
    {
      "type": "n8n-nodes-base.if",
      "name": "Check Event Type",
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.body.type}}",
              "value2": "task_created"
            }
          ]
        }
      }
    },
    {
      "type": "n8n-nodes-base.function",
      "name": "Format Message",
      "parameters": {
        "functionCode": "const task = $input.item.json.body.task;\\nreturn {\\n  json: {\\n    message: \`üÜï –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞: ${task.title}\\\\n–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: ${task.priority}\\\\n–î–µ–¥–ª–∞–π–Ω: ${task.deadline}\`\\n  }\\n};"
      }
    },
    {
      "type": "n8n-nodes-base.telegram",
      "name": "Send to Telegram",
      "parameters": {
        "chatId": "={{$json.body.telegram_id}}",
        "text": "={{$json.message}}"
      }
    }
  ]
}
```

### 2. Daily Report Scheduler
```json
{
  "name": "Daily Report to Telegram",
  "nodes": [
    {
      "type": "n8n-nodes-base.cron",
      "name": "Every Day 9 AM",
      "parameters": {
        "triggerTimes": {
          "item": [
            {
              "hour": 9,
              "minute": 0
            }
          ]
        }
      }
    },
    {
      "type": "n8n-nodes-base.postgres",
      "name": "Get Today Tasks",
      "parameters": {
        "query": "SELECT * FROM tasks WHERE DATE(deadline) = CURRENT_DATE"
      }
    },
    {
      "type": "n8n-nodes-base.function",
      "name": "Format Report",
      "parameters": {
        "functionCode": "const tasks = $input.all();\\nconst message = \`üìä –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è (${tasks.length}):\\\\n\\\\n\` + tasks.map((t, i) => \`${i+1}. ${t.json.title}\`).join('\\\\n');\\nreturn { json: { message } };"
      }
    },
    {
      "type": "n8n-nodes-base.telegram",
      "name": "Send Report",
      "parameters": {
        "operation": "sendMessage",
        "text": "={{$json.message}}"
      }
    }
  ]
}
```

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏

### Voice Commands —á–µ—Ä–µ–∑ n8n
```
–ì–æ–ª–æ—Å–æ–≤–æ–µ –≤ Telegram ‚Üí Whisper ‚Üí —Ç–µ–∫—Å—Ç ‚Üí Data Agent ‚Üí n8n workflow ‚Üí action
```

### AI-powered Routing
```
–í—Ö–æ–¥—è—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí DeepSeek –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Üí 
–ï—Å–ª–∏ –Ω–µ–≥–∞—Ç–∏–≤ ‚Üí –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É
–ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å ‚Üí –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –≤ CRM
```

### Smart Notifications
```
n8n –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ï—Å–ª–∏ –æ–Ω–ª–∞–π–Ω ‚Üí Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ï—Å–ª–∏ –æ—Ñ–ª–∞–π–Ω > 1 —á–∞—Å ‚Üí Email
- –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Üí SMS
```

---

## üéØ –ò—Ç–æ–≥

**n8n –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º hub –¥–ª—è:**
1. ‚úÖ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
2. üî• Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç #1)
3. ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è Data Agent –¥–µ–π—Å—Ç–≤–∏–π
4. ‚è∞ Scheduled tasks –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
5. üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
6. üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã
7. üîÑ Multi-agent orchestration

**–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** 
–í—Å—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (n8n UI), –±–µ–∑ –ø—Ä–∞–≤–æ–∫ –∫–æ–¥–∞!
