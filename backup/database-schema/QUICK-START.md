# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://app.supabase.com ‚Üí –í–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí SQL Editor

### 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ –ø–æ—Ä—è–¥–∫—É

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –∏ –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É, –Ω–∞—á–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
1. –í SQL Editor –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `DROP SCHEMA public CASCADE; CREATE SCHEMA public;`
2. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–±–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É

#### –®–∞–≥ 1: –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
```
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: database-schema/complete-schema-part1.sql
3. –ù–∞–∂–º–∏—Ç–µ Run
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (30-60 —Å–µ–∫)
```

#### –®–∞–≥ 2: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã
```
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: database-schema/complete-schema-part2.sql
3. –ù–∞–∂–º–∏—Ç–µ Run
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (20-40 —Å–µ–∫)
```

#### –®–∞–≥ 3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
```
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ: database-schema/test-data.sql
3. –ù–∞–∂–º–∏—Ç–µ Run
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```bash
node verify-database.js
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
```

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 15 —Ç–∞–±–ª–∏—Ü:
- ‚úÖ clients (–∫–ª–∏–µ–Ω—Ç—ã)
- ‚úÖ employees (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)
- ‚úÖ projects (–ø—Ä–æ–µ–∫—Ç—ã)
- ‚úÖ suppliers (–ø–æ—Å—Ç–∞–≤—â–∏–∫–∏)
- ‚úÖ invoices (—Å—á–µ—Ç–∞ —Å OCR)
- ‚úÖ tasks (–∑–∞–¥–∞—á–∏)
- ‚úÖ task_comments (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)
- ‚úÖ task_attachments (–≤–ª–æ–∂–µ–Ω–∏—è)
- ‚úÖ crews (–±—Ä–∏–≥–∞–¥—ã)
- ‚úÖ crew_members (—Å–æ—Å—Ç–∞–≤)
- ‚úÖ shifts (—Å–º–µ–Ω—ã)
- ‚úÖ shift_assignees (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
- ‚úÖ project_messages (—á–∞—Ç)
- ‚úÖ message_attachments (–≤–ª–æ–∂–µ–Ω–∏—è)
- ‚úÖ custom_expense_categories (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)

### 20 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at
- ‚úÖ –†–∞—Å—á–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞—Ç—Ä–∞—Ç
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –ø–æ–¥–∑–∞–¥–∞—á
- ‚úÖ –ê–≤—Ç–æ–ø—Ä–∏–≤—è–∑–∫–∞ —Å—á–µ—Ç–æ–≤
- ‚úÖ –ò –¥—Ä—É–≥–∏–µ...

### 70+ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û–±–Ω–æ–≤–∏—Ç–µ TypeScript —Ç–∏–ø—ã** ‚úÖ –£–ñ–ï –ì–û–¢–û–í–û!
   - src/types/client.ts - —Å–æ–∑–¥–∞–Ω
   - src/types/project.ts - –æ–±–Ω–æ–≤–ª–µ–Ω
   - src/types/supplier.ts - –æ–±–Ω–æ–≤–ª–µ–Ω

2. **–û–±–Ω–æ–≤–∏—Ç–µ API —Ä–æ—É—Ç—ã**
   ```
   - src/app/api/clients/route.ts
   - src/app/api/projects/route.ts
   - src/app/api/suppliers/route.ts
   ```

3. **–û–±–Ω–æ–≤–∏—Ç–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   ```
   - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–≤—ã–±–æ—Ä client_id)
   - –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–Ω–æ–≤—ã–µ –ø–æ–ª—è)
   - –ò —Ç.–¥.
   ```

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ü–æ—Ç–µ—Ä—è—é—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ?
**–î–∞!** –≠—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã —É–¥–∞–ª—è—é—Ç –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã.

### –ú–æ–∂–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?
–î–∞, –Ω–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–µ–µ. –ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º:
1. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è
3. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å –æ—à–∏–±–∫–æ–π "relation already exists"?
–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ. –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã.

### –ì–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è?
- **–ü–æ–ª–Ω–∞—è:** database-schema/00-OVERVIEW.md
- **–î–µ—Ç–∞–ª—å–Ω–∞—è:** database-schema/01-clients.md, 02-projects.md –∏ —Ç.–¥.
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** database-schema/README.md

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã
node verify-database.js

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
node test-db-connection.js

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ SQL Editor
SELECT tablename FROM pg_tables WHERE schemaname = 'public';
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ:
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Ñ–∏–∑. –ª–∏—Ü–∞ –∏ –∫–æ–º–ø–∞–Ω–∏–∏)
- –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–ª–∏–µ–Ω—Ç–∞–º
- –î–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏
- –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å—á–µ—Ç–∞ —Å OCR-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∞–º–∏ —Å –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–º–µ–Ω—ã –¥–ª—è –±—Ä–∏–≥–∞–¥
- –û–±—â–∞—Ç—å—Å—è –≤ —á–∞—Ç–µ –ø—Ä–æ–µ–∫—Ç–æ–≤

---

**üéâ –£—Å–ø–µ—Ö–æ–≤!**
