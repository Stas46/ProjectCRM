# üìã –ü–û–õ–ù–ê–Ø –°–•–ï–ú–ê –ë–ê–ó–´ –î–ê–ù–ù–´–• CRM –î–õ–Ø –û–°–¢–ï–ö–õ–ï–ù–ò–Ø

## üìä –û–±–∑–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–î–∞–Ω–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è CRM-—Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –æ—Å—Ç–µ–∫–ª–µ–Ω–∏—è.
–í–∫–ª—é—á–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –∑–∞–¥–∞—á–∞–º–∏, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏, —Å—á–µ—Ç–∞–º–∏, –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏, —Å–º–µ–Ω–∞–º–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è–º–∏.

## üóÇÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### 1Ô∏è‚É£ **–ü—Ä–æ–µ–∫—Ç—ã** (projects)
- –û—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
- –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ, –∞–¥—Ä–µ—Å–µ, –±—é–¥–∂–µ—Ç–µ, —Å—Ä–æ–∫–∞—Ö
- –°–≤—è–∑–∞–Ω–∞ —Å–æ –≤—Å–µ–º–∏ –¥—Ä—É–≥–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏

### 2Ô∏è‚É£ **–ö–ª–∏–µ–Ω—Ç—ã** (clients) üÜï
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –§–∏–∑–∏—á–µ—Å–∫–∏–µ –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞
- –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π

### 3Ô∏è‚É£ **–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏** (suppliers)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —É—Å–ª—É–≥
- –ò–ù–ù, –ö–ü–ü, –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—Ç—Ä–∞—Ç

### 4Ô∏è‚É£ **–°—á–µ—Ç–∞** (invoices)
- –°—á–µ—Ç–∞ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ OCR
- –°–≤—è–∑—å —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- –§–∞–π–ª—ã –≤ Supabase Storage

### 5Ô∏è‚É£ **–ó–∞–¥–∞—á–∏** (tasks)
- –ó–∞–¥–∞—á–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
- –°—Ç–∞—Ç—É—Å—ã, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –¥–µ–¥–ª–∞–π–Ω—ã
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- –í–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### 6Ô∏è‚É£ **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏** (employees)
- –ë–∞–∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏
- –†–æ–ª–∏, –∫–æ–Ω—Ç–∞–∫—Ç—ã, —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ê–≤–∞—Ç–∞—Ä—ã

### 7Ô∏è‚É£ **–ë—Ä–∏–≥–∞–¥—ã** (crews)
- –ì—Ä—É–ø–ø—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —Å–º–µ–Ω—ã

### 8Ô∏è‚É£ **–°–º–µ–Ω—ã** (shifts)
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞–±–æ—Ç
- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º –∏ –±—Ä–∏–≥–∞–¥–∞–º
- –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è

### 9Ô∏è‚É£ **–ß–∞—Ç—ã** (project_messages) üÜï
- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
- –í–ª–æ–∂–µ–Ω–∏—è –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (Supabase Realtime)

### üîü **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–¥–∞—á–∞–º** (task_comments)
- –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –í–ª–æ–∂–µ–Ω–∏—è –∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

```
clients (1) ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ> (N) projects
              ‚îÇ
projects (1) ‚îÄ‚îº‚îÄ‚îÄ> (N) tasks
              ‚îú‚îÄ‚îÄ> (N) invoices  
              ‚îú‚îÄ‚îÄ> (N) shifts
              ‚îî‚îÄ‚îÄ> (N) project_messages
              
suppliers (1) ‚îÄ‚îÄ‚îÄ> (N) invoices

tasks (1) ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ> (N) task_comments
              ‚îî‚îÄ‚îÄ> (N) task_attachments

project_messages (1) ‚îÄ‚îÄ> (N) message_attachments

employees (1) ‚îÄ‚î¨‚îÄ‚îÄ> (N) tasks (assignee)
               ‚îú‚îÄ‚îÄ> (N) crew_members
               ‚îî‚îÄ‚îÄ> (N) shift_assignees

crews (1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ> (N) crew_members
               ‚îî‚îÄ‚îÄ> (N) shifts
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- `00-OVERVIEW.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–æ–±–∑–æ—Ä)
- `01-clients.md` - –¢–∞–±–ª–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ üÜï
- `02-projects.md` - –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `03-suppliers.md` - –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- `04-invoices.md` - –¢–∞–±–ª–∏—Ü–∞ —Å—á–µ—Ç–æ–≤
- `05-tasks.md` - –¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á
- `06-task-comments.md` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∑–∞–¥–∞—á–∞–º
- `07-task-attachments.md` - –í–ª–æ–∂–µ–Ω–∏—è –∫ –∑–∞–¥–∞—á–∞–º
- `08-employees.md` - –¢–∞–±–ª–∏—Ü–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `09-crews.md` - –¢–∞–±–ª–∏—Ü–∞ –±—Ä–∏–≥–∞–¥
- `10-crew-members.md` - –ß–ª–µ–Ω—ã –±—Ä–∏–≥–∞–¥
- `11-shifts.md` - –¢–∞–±–ª–∏—Ü–∞ —Å–º–µ–Ω
- `12-shift-assignees.md` - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–º–µ–Ω—ã
- `13-project-messages.md` - –ß–∞—Ç—ã –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º üÜï
- `14-message-attachments.md` - –í–ª–æ–∂–µ–Ω–∏—è –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º üÜï
- `15-custom-categories.md` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## üÜï –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ö–ª–∏–µ–Ω—Ç—ã
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö (—Ñ–∏–∑/—é—Ä –ª–∏—Ü–∞)
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤

### –£–ª—É—á—à–µ–Ω–Ω—ã–µ —á–∞—Ç—ã
- –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤
- –í–ª–æ–∂–µ–Ω–∏—è –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –°–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ auth.users

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—è
- –ö–ü–ü –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- –û–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–º–µ—Ç–∫–∏
- Timestamps –¥–ª—è –∞—É–¥–∏—Ç–∞

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- RLS (Row Level Security) –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- SERVICE_ROLE_KEY —Ç–æ–ª—å–∫–æ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- ANON_KEY –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üì¶ Supabase Storage

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤:
- –°—á–µ—Ç–∞ (invoices bucket)
- –í–ª–æ–∂–µ–Ω–∏—è –∫ –∑–∞–¥–∞—á–∞–º (task-attachments bucket)
- –í–ª–æ–∂–µ–Ω–∏—è –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º (message-attachments bucket)
- –ê–≤–∞—Ç–∞—Ä—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (avatars bucket)

## üéØ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞—Ç—Ä–∞—Ç

–ü—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (ExpenseCategory):
- `profile` - –ü—Ä–æ—Ñ–∏–ª—å
- `components` - –ö–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ
- `fittings` - –§—É—Ä–Ω–∏—Ç—É—Ä–∞
- `glass` - –°—Ç–µ–∫–ª–æ
- `glass_units` - –°—Ç–µ–∫–ª–æ–ø–∞–∫–µ—Ç—ã
- `sealants` - –ì–µ—Ä–º–µ—Ç–∏–∫–∏
- `materials` - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- `manufacturing` - –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ
- `design` - –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `delivery` - –î–æ—Å—Ç–∞–≤–∫–∞
- `lifting_equipment` - –ü–æ–¥—ä–µ–º–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- `brackets` - –ö—Ä–æ–Ω—à—Ç–µ–π–Ω—ã
- `hardware` - –ú–µ—Ç–∏–∑—ã
- `adjoining` - –ü—Ä–∏–º—ã–∫–∞–Ω–∏—è
- `installation` - –ú–æ–Ω—Ç–∞–∂
- `additional` - –î–æ–ø. –∑–∞—Ç—Ä–∞—Ç—ã
- `custom` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è

1. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç `database-schema/reset-and-create.sql`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ ID –∏—Å–ø–æ–ª—å–∑—É—é—Ç UUID
- –í—Å–µ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ TIMESTAMP WITH TIME ZONE
- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ timestamps (created_at, updated_at)
