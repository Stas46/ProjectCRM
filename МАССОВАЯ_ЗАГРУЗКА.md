# Тестирование массовой загрузки счетов

## Что изменилось:

### 1. Input теперь поддерживает multiple файлы
```tsx
<input
  type="file"
  accept=".pdf,.png,.jpg,.jpeg,.xlsx,.xls"
  multiple  // ← ДОБАВЛЕНО
  onChange={handleFileUpload}
/>
```

### 2. Обработчик загрузки файлов обновлён
- **Было**: Обрабатывался только первый файл `files?.[0]`
- **Стало**: Обрабатываются все выбранные файлы в цикле

### 3. Прогресс загрузки
Показывает:
- Текущий файл: "Обработка 3 из 10: Счет№59261.xls..."
- Итог: "✅ Все счета обработаны (10/10)"
- При ошибках: "⚠️ Обработано: 7, ошибок: 3 (из 10)"

### 4. Обработка ошибок
- При ошибке одного файла - продолжается обработка остальных
- Итоговая статистика показывает успешные и неуспешные

### 5. Очистка
- Input очищается после загрузки (можно загрузить те же файлы повторно)
- Сообщение автоматически скрывается через 2-5 секунд

## Как протестировать:

1. **Запустите dev сервер** (если не запущен):
   ```bash
   npm run dev
   ```

2. **Откройте страницу счетов**: http://localhost:3000/invoices

3. **Выберите несколько файлов** через диалог загрузки:
   - Можно выбрать Ctrl+Click или Shift+Click
   - Можно перетащить несколько файлов (если добавить drag&drop)

4. **Наблюдайте прогресс**:
   - Счётчик "1 из 5", "2 из 5" и т.д.
   - Имя обрабатываемого файла

5. **Проверьте результат**:
   - Все счета должны появиться в таблице
   - Статистика покажет сколько успешно обработано

## Тестовые файлы доступны в:
- `test-invoices/` - 6 Excel файлов + 1 JPG + несколько PDF

## Пример использования:
1. Выберите все 5 Excel файлов сразу
2. Нажмите "Открыть"
3. Система последовательно обработает все 5 файлов
4. Увидите: "✅ Все счета обработаны (5/5)"
5. В таблице появятся 5 новых счетов
